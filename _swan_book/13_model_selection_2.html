<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Randy Jin, Elizabeth Juarez-Colunga">
<title>SWAN AMH project analysis - 13&nbsp; Model Selection II - Factor</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./14_rate_value_baseline.html" rel="next">
<link href="./12_model_selection.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://hypothes.is/embed.js"></script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body class="nav-sidebar floating nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">SWAN AMH project analysis</span>
  </a>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Model Selection II - Factor</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        <div class="sidebar-tools-collapse tools-wide">
    <a href="https://github.com/Goodgolden/jm_amh" title="" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="" class="sidebar-tool px-1"><i class="bi bi-share"></i></a>
    <a href="https://coloradosph.cuanschutz.edu/education/departments/biostatistics-informatics" title="" class="sidebar-tool px-1"><i class="bi bi-hospital"></i></a>
</div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Working log</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_table1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Table1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_jm.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">JM</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_model_selection.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Model selection</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_jmbayes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">JMBayes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_jmbayes2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">JMbayes2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_jm_model_selection.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">JM Model Selection</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_value_auc.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Value model</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_rate_auc.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Rate model</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_table1_publication.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Table1 (for publication)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_final_model.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Final model (for publication)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11_convergence.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Convergence</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12_model_selection.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Model Selection I - Dummy</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13_model_selection_2.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Model Selection II - Factor</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14_rate_value_baseline.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Rate Value Baseline</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15_auc_ci.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">AUC CI</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16_auc_plot.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">AUC Plot</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17_rate_estimate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Slope Estimate</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_review.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Paper Review</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#goal-of-the-analysis" id="toc-goal-of-the-analysis" class="nav-link active" data-scroll-target="#goal-of-the-analysis"> <span class="header-section-number">13.1</span> Goal of the analysis</a></li>
  <li><a href="#dummy-variables-for-site-and-ethnicity" id="toc-dummy-variables-for-site-and-ethnicity" class="nav-link" data-scroll-target="#dummy-variables-for-site-and-ethnicity"> <span class="header-section-number">13.2</span> Dummy variables for <code>site</code> and <code>ethnicity</code></a></li>
  <li>
<a href="#fit-the-joint-model" id="toc-fit-the-joint-model" class="nav-link" data-scroll-target="#fit-the-joint-model"> <span class="header-section-number">13.3</span> Fit the joint model</a>
  <ul class="collapse">
<li><a href="#full-model" id="toc-full-model" class="nav-link" data-scroll-target="#full-model"> <span class="header-section-number">13.3.1</span> Full model</a></li>
  <li><a href="#dropping-health-variable" id="toc-dropping-health-variable" class="nav-link" data-scroll-target="#dropping-health-variable"> <span class="header-section-number">13.3.2</span> Dropping <code>health</code> variable</a></li>
  <li><a href="#dropping-alcohol-variable" id="toc-dropping-alcohol-variable" class="nav-link" data-scroll-target="#dropping-alcohol-variable"> <span class="header-section-number">13.3.3</span> Dropping <code>alcohol</code> variable</a></li>
  <li><a href="#dropping-bc_pills-variable" id="toc-dropping-bc_pills-variable" class="nav-link" data-scroll-target="#dropping-bc_pills-variable"> <span class="header-section-number">13.3.4</span> Dropping <code>bc_pills</code> variable</a></li>
  <li><a href="#dropping-education-variable" id="toc-dropping-education-variable" class="nav-link" data-scroll-target="#dropping-education-variable"> <span class="header-section-number">13.3.5</span> <strong>Dropping <code>education</code> variable</strong></a></li>
  <li><a href="#dropping-employed-variable" id="toc-dropping-employed-variable" class="nav-link" data-scroll-target="#dropping-employed-variable"> <span class="header-section-number">13.3.6</span> Dropping <code>employed</code> variable</a></li>
  <li><a href="#dropping-children-variable" id="toc-dropping-children-variable" class="nav-link" data-scroll-target="#dropping-children-variable"> <span class="header-section-number">13.3.7</span> Dropping <code>children</code> variable</a></li>
  <li><a href="#dropping-married-variable" id="toc-dropping-married-variable" class="nav-link" data-scroll-target="#dropping-married-variable"> <span class="header-section-number">13.3.8</span> Dropping <code>married</code> variable</a></li>
  <li><a href="#dropping-phys_act-variable" id="toc-dropping-phys_act-variable" class="nav-link" data-scroll-target="#dropping-phys_act-variable"> <span class="header-section-number">13.3.9</span> Dropping <code>phys_act</code> variable</a></li>
  </ul>
</li>
  <li><a href="#comparison-for-models" id="toc-comparison-for-models" class="nav-link" data-scroll-target="#comparison-for-models"> <span class="header-section-number">13.4</span> Comparison for models</a></li>
  <li><a href="#the-final-model" id="toc-the-final-model" class="nav-link" data-scroll-target="#the-final-model"> <span class="header-section-number">13.5</span> The final model</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/Goodgolden/jm_amh/edit/main/13_model_selection_2.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">
<span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Model Selection II - Factor</span>
</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><div class="cell" data-hash="13_model_selection_2_cache/html/css-setup_568e693733bc882c1d82b5b31e4f0ce0">
<style type="text/css">
.scroll-100 {
  max-height: 300px;
  max-width: 1000px;
  overflow-y: auto;
  background-color: inherit;
}
</style>
</div>
<section id="goal-of-the-analysis" class="level2" data-number="13.1"><h2 data-number="13.1" class="anchored" data-anchor-id="goal-of-the-analysis">
<span class="header-section-number">13.1</span> Goal of the analysis</h2>
<ul class="task-list">
<li><p><input type="checkbox" disabled="" checked="">
Backward model selection joint model (without rate) with <code>JMbayes2</code></p></li>
<li><p><input type="checkbox" disabled="" checked="">
Rate model, Baseline Rate model, Value model comparison</p></li>
<li><p><input type="checkbox" disabled="" checked="">
Tables for the models</p></li>
<li><p><input type="checkbox" disabled="" checked="">
You are first-rate!</p></li>
</ul></section><section id="dummy-variables-for-site-and-ethnicity" class="level2" data-number="13.2"><h2 data-number="13.2" class="anchored" data-anchor-id="dummy-variables-for-site-and-ethnicity">
<span class="header-section-number">13.2</span> Dummy variables for <code>site</code> and <code>ethnicity</code>
</h2>
<div class="cell" data-hash="13_model_selection_2_cache/html/dummy_variables_e6bd528ffe077ec2afd237db064a8d85">
<details><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"data/swan_amh03.rda"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"data/swan_amh13.rda"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">control</span> <span class="op">=</span> <span class="fu">lmeControl</span><span class="op">(</span>opt <span class="op">=</span> <span class="st">"optim"</span><span class="op">)</span></span>
<span><span class="va">jmcontrol</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>n_iter <span class="op">=</span> <span class="fl">5000</span>, </span>
<span>                  n_burnin <span class="op">=</span> <span class="fl">1000</span>, </span>
<span>                  n_chains <span class="op">=</span> <span class="fl">3</span>,</span>
<span>                  seed <span class="op">=</span> <span class="fl">55555</span>,</span>
<span>                  cores <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lme1</span> <span class="op">&lt;-</span> <span class="fu">lme</span><span class="op">(</span><span class="va">lamh</span> <span class="op">~</span> <span class="va">time</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh03</span>,</span>
<span>                control <span class="op">=</span> <span class="va">control</span>,</span>
<span>                random <span class="op">=</span> <span class="op">~</span> <span class="va">time</span><span class="op">|</span> <span class="va">id</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section><section id="fit-the-joint-model" class="level2" data-number="13.3"><h2 data-number="13.3" class="anchored" data-anchor-id="fit-the-joint-model">
<span class="header-section-number">13.3</span> Fit the joint model</h2>
<p>Need to keep <span class="math inline">\(site + ethnic + smoke + bmi\)</span></p>
<section id="full-model" class="level3" data-number="13.3.1"><h3 data-number="13.3.1" class="anchored" data-anchor-id="full-model">
<span class="header-section-number">13.3.1</span> Full model</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-2_9a07547dbba7c754f0759e1a53a71cc3">
<details><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s10</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="va">alcohol</span> <span class="op">+</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> <span class="va">bc_pills</span> <span class="op">+</span> </span>
<span>                  <span class="va">children</span> <span class="op">+</span> <span class="va">edu</span> <span class="op">+</span> <span class="va">employed</span> <span class="op">+</span></span>
<span>                  <span class="va">health</span> <span class="op">+</span></span>
<span>                  <span class="va">married</span> <span class="op">+</span> </span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb110</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s10</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb110</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 38%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 9%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">healthFair/Poor</td>
<td style="text-align: right;">-0.0056</td>
<td style="text-align: right;">0.2215</td>
<td style="text-align: right;">-0.4522</td>
<td style="text-align: right;">0.4162</td>
<td style="text-align: right;">0.9987</td>
<td style="text-align: right;">1.0179</td>
</tr>
<tr class="even">
<td style="text-align: left;">alcohol&lt;1/wk</td>
<td style="text-align: right;">-0.0182</td>
<td style="text-align: right;">0.2174</td>
<td style="text-align: right;">-0.4486</td>
<td style="text-align: right;">0.3915</td>
<td style="text-align: right;">0.9435</td>
<td style="text-align: right;">1.0015</td>
</tr>
<tr class="odd">
<td style="text-align: left;">eduCollege degree or higher</td>
<td style="text-align: right;">0.0207</td>
<td style="text-align: right;">0.1644</td>
<td style="text-align: right;">-0.2936</td>
<td style="text-align: right;">0.3498</td>
<td style="text-align: right;">0.9247</td>
<td style="text-align: right;">1.0310</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0580</td>
<td style="text-align: right;">0.2512</td>
<td style="text-align: right;">-0.5529</td>
<td style="text-align: right;">0.4502</td>
<td style="text-align: right;">0.8170</td>
<td style="text-align: right;">1.0158</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bc_pillsEver use BC pills</td>
<td style="text-align: right;">-0.0367</td>
<td style="text-align: right;">0.1278</td>
<td style="text-align: right;">-0.2880</td>
<td style="text-align: right;">0.2178</td>
<td style="text-align: right;">0.7695</td>
<td style="text-align: right;">1.0158</td>
</tr>
<tr class="even">
<td style="text-align: left;">healthVery Good</td>
<td style="text-align: right;">-0.0532</td>
<td style="text-align: right;">0.1382</td>
<td style="text-align: right;">-0.3283</td>
<td style="text-align: right;">0.2237</td>
<td style="text-align: right;">0.7007</td>
<td style="text-align: right;">1.0018</td>
</tr>
<tr class="odd">
<td style="text-align: left;">alcohol&gt;7/wk</td>
<td style="text-align: right;">0.0895</td>
<td style="text-align: right;">0.2000</td>
<td style="text-align: right;">-0.3150</td>
<td style="text-align: right;">0.4756</td>
<td style="text-align: right;">0.6522</td>
<td style="text-align: right;">1.0019</td>
</tr>
<tr class="even">
<td style="text-align: left;">healthGood</td>
<td style="text-align: right;">-0.0709</td>
<td style="text-align: right;">0.1630</td>
<td style="text-align: right;">-0.4000</td>
<td style="text-align: right;">0.2524</td>
<td style="text-align: right;">0.6508</td>
<td style="text-align: right;">1.0057</td>
</tr>
<tr class="odd">
<td style="text-align: left;">employedEmployed</td>
<td style="text-align: right;">0.1008</td>
<td style="text-align: right;">0.1530</td>
<td style="text-align: right;">-0.1941</td>
<td style="text-align: right;">0.3994</td>
<td style="text-align: right;">0.5110</td>
<td style="text-align: right;">1.0001</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1213</td>
<td style="text-align: right;">0.1825</td>
<td style="text-align: right;">-0.2453</td>
<td style="text-align: right;">0.4800</td>
<td style="text-align: right;">0.4972</td>
<td style="text-align: right;">1.0003</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.1690</td>
<td style="text-align: right;">0.2598</td>
<td style="text-align: right;">-0.3310</td>
<td style="text-align: right;">0.6786</td>
<td style="text-align: right;">0.4908</td>
<td style="text-align: right;">1.0094</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2459</td>
<td style="text-align: right;">0.3012</td>
<td style="text-align: right;">-0.8169</td>
<td style="text-align: right;">0.3606</td>
<td style="text-align: right;">0.4118</td>
<td style="text-align: right;">1.0051</td>
</tr>
<tr class="odd">
<td style="text-align: left;">marriedMarried/Partnered</td>
<td style="text-align: right;">0.1144</td>
<td style="text-align: right;">0.1300</td>
<td style="text-align: right;">-0.1355</td>
<td style="text-align: right;">0.3750</td>
<td style="text-align: right;">0.3895</td>
<td style="text-align: right;">1.0014</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.1180</td>
<td style="text-align: right;">0.1349</td>
<td style="text-align: right;">-0.3917</td>
<td style="text-align: right;">0.1465</td>
<td style="text-align: right;">0.3682</td>
<td style="text-align: right;">1.0058</td>
</tr>
<tr class="odd">
<td style="text-align: left;">children</td>
<td style="text-align: right;">0.0442</td>
<td style="text-align: right;">0.0447</td>
<td style="text-align: right;">-0.0429</td>
<td style="text-align: right;">0.1295</td>
<td style="text-align: right;">0.3215</td>
<td style="text-align: right;">1.0038</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.6268</td>
<td style="text-align: right;">0.6052</td>
<td style="text-align: right;">-1.8432</td>
<td style="text-align: right;">0.5380</td>
<td style="text-align: right;">0.3077</td>
<td style="text-align: right;">1.0088</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.6086</td>
<td style="text-align: right;">0.4911</td>
<td style="text-align: right;">-0.3705</td>
<td style="text-align: right;">1.5225</td>
<td style="text-align: right;">0.2350</td>
<td style="text-align: right;">1.0008</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2603</td>
<td style="text-align: right;">0.2125</td>
<td style="text-align: right;">-0.1410</td>
<td style="text-align: right;">0.6933</td>
<td style="text-align: right;">0.2167</td>
<td style="text-align: right;">1.0068</td>
</tr>
<tr class="odd">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0489</td>
<td style="text-align: right;">0.0341</td>
<td style="text-align: right;">-0.1146</td>
<td style="text-align: right;">0.0180</td>
<td style="text-align: right;">0.1562</td>
<td style="text-align: right;">1.0202</td>
</tr>
<tr class="even">
<td style="text-align: left;">alcohol1-7/wk</td>
<td style="text-align: right;">0.2121</td>
<td style="text-align: right;">0.1429</td>
<td style="text-align: right;">-0.0644</td>
<td style="text-align: right;">0.5014</td>
<td style="text-align: right;">0.1265</td>
<td style="text-align: right;">1.0080</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.3136</td>
<td style="text-align: right;">0.2035</td>
<td style="text-align: right;">-0.0883</td>
<td style="text-align: right;">0.7184</td>
<td style="text-align: right;">0.1227</td>
<td style="text-align: right;">1.0025</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.3903</td>
<td style="text-align: right;">0.2481</td>
<td style="text-align: right;">-0.1133</td>
<td style="text-align: right;">0.8890</td>
<td style="text-align: right;">0.1152</td>
<td style="text-align: right;">1.0052</td>
</tr>
<tr class="odd">
<td style="text-align: left;">eduSome College</td>
<td style="text-align: right;">0.3177</td>
<td style="text-align: right;">0.1616</td>
<td style="text-align: right;">0.0069</td>
<td style="text-align: right;">0.6457</td>
<td style="text-align: right;">0.0435</td>
<td style="text-align: right;">1.0420</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.4986</td>
<td style="text-align: right;">0.2163</td>
<td style="text-align: right;">0.0825</td>
<td style="text-align: right;">0.9428</td>
<td style="text-align: right;">0.0187</td>
<td style="text-align: right;">1.0066</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.4382</td>
<td style="text-align: right;">0.1600</td>
<td style="text-align: right;">-0.7605</td>
<td style="text-align: right;">-0.1331</td>
<td style="text-align: right;">0.0033</td>
<td style="text-align: right;">1.0114</td>
</tr>
<tr class="even">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0523</td>
<td style="text-align: right;">0.0095</td>
<td style="text-align: right;">-0.0720</td>
<td style="text-align: right;">-0.0344</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0212</td>
</tr>
<tr class="odd">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0375</td>
<td style="text-align: right;">0.0735</td>
<td style="text-align: right;">-1.1924</td>
<td style="text-align: right;">-0.8996</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.1924</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="dropping-health-variable" class="level3" data-number="13.3.2"><h3 data-number="13.3.2" class="anchored" data-anchor-id="dropping-health-variable">
<span class="header-section-number">13.3.2</span> Dropping <code>health</code> variable</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-3_5b98d89c6eae634ecdee58d3a2436476">
<details><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">## surv11 is the full model with all the variables</span></span>
<span><span class="va">s11</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="va">alcohol</span> <span class="op">+</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> <span class="va">bc_pills</span> <span class="op">+</span> </span>
<span>                  <span class="va">children</span> <span class="op">+</span> <span class="va">edu</span> <span class="op">+</span> <span class="va">employed</span> <span class="op">+</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="va">married</span> <span class="op">+</span> </span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb111</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s11</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb111</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 38%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 9%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">alcohol&lt;1/wk</td>
<td style="text-align: right;">-0.0324</td>
<td style="text-align: right;">0.2099</td>
<td style="text-align: right;">-0.4555</td>
<td style="text-align: right;">0.3659</td>
<td style="text-align: right;">0.8922</td>
<td style="text-align: right;">1.0054</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0481</td>
<td style="text-align: right;">0.2720</td>
<td style="text-align: right;">-0.6082</td>
<td style="text-align: right;">0.4797</td>
<td style="text-align: right;">0.8578</td>
<td style="text-align: right;">1.0168</td>
</tr>
<tr class="odd">
<td style="text-align: left;">eduCollege degree or higher</td>
<td style="text-align: right;">0.0372</td>
<td style="text-align: right;">0.1558</td>
<td style="text-align: right;">-0.2596</td>
<td style="text-align: right;">0.3468</td>
<td style="text-align: right;">0.8310</td>
<td style="text-align: right;">1.0086</td>
</tr>
<tr class="even">
<td style="text-align: left;">bc_pillsEver use BC pills</td>
<td style="text-align: right;">-0.0473</td>
<td style="text-align: right;">0.1312</td>
<td style="text-align: right;">-0.2978</td>
<td style="text-align: right;">0.2161</td>
<td style="text-align: right;">0.7072</td>
<td style="text-align: right;">1.0010</td>
</tr>
<tr class="odd">
<td style="text-align: left;">alcohol&gt;7/wk</td>
<td style="text-align: right;">0.0923</td>
<td style="text-align: right;">0.1990</td>
<td style="text-align: right;">-0.3080</td>
<td style="text-align: right;">0.4781</td>
<td style="text-align: right;">0.6235</td>
<td style="text-align: right;">1.0069</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.1745</td>
<td style="text-align: right;">0.2642</td>
<td style="text-align: right;">-0.3428</td>
<td style="text-align: right;">0.6887</td>
<td style="text-align: right;">0.5155</td>
<td style="text-align: right;">1.0966</td>
</tr>
<tr class="odd">
<td style="text-align: left;">employedEmployed</td>
<td style="text-align: right;">0.1027</td>
<td style="text-align: right;">0.1477</td>
<td style="text-align: right;">-0.1863</td>
<td style="text-align: right;">0.3908</td>
<td style="text-align: right;">0.4777</td>
<td style="text-align: right;">1.0020</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1268</td>
<td style="text-align: right;">0.1753</td>
<td style="text-align: right;">-0.2118</td>
<td style="text-align: right;">0.4755</td>
<td style="text-align: right;">0.4713</td>
<td style="text-align: right;">1.0113</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2282</td>
<td style="text-align: right;">0.2974</td>
<td style="text-align: right;">-0.8141</td>
<td style="text-align: right;">0.3474</td>
<td style="text-align: right;">0.4503</td>
<td style="text-align: right;">1.0154</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.1088</td>
<td style="text-align: right;">0.1382</td>
<td style="text-align: right;">-0.3801</td>
<td style="text-align: right;">0.1596</td>
<td style="text-align: right;">0.4382</td>
<td style="text-align: right;">1.0082</td>
</tr>
<tr class="odd">
<td style="text-align: left;">marriedMarried/Partnered</td>
<td style="text-align: right;">0.1106</td>
<td style="text-align: right;">0.1276</td>
<td style="text-align: right;">-0.1338</td>
<td style="text-align: right;">0.3605</td>
<td style="text-align: right;">0.3833</td>
<td style="text-align: right;">1.0067</td>
</tr>
<tr class="even">
<td style="text-align: left;">children</td>
<td style="text-align: right;">0.0480</td>
<td style="text-align: right;">0.0453</td>
<td style="text-align: right;">-0.0418</td>
<td style="text-align: right;">0.1362</td>
<td style="text-align: right;">0.2915</td>
<td style="text-align: right;">1.0142</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.6284</td>
<td style="text-align: right;">0.6280</td>
<td style="text-align: right;">-1.8257</td>
<td style="text-align: right;">0.7006</td>
<td style="text-align: right;">0.2877</td>
<td style="text-align: right;">1.0215</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2634</td>
<td style="text-align: right;">0.2181</td>
<td style="text-align: right;">-0.1541</td>
<td style="text-align: right;">0.7126</td>
<td style="text-align: right;">0.2303</td>
<td style="text-align: right;">1.0487</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.6773</td>
<td style="text-align: right;">0.5192</td>
<td style="text-align: right;">-0.4280</td>
<td style="text-align: right;">1.6555</td>
<td style="text-align: right;">0.1737</td>
<td style="text-align: right;">1.0161</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.4123</td>
<td style="text-align: right;">0.2859</td>
<td style="text-align: right;">-0.1434</td>
<td style="text-align: right;">0.9602</td>
<td style="text-align: right;">0.1470</td>
<td style="text-align: right;">1.0327</td>
</tr>
<tr class="odd">
<td style="text-align: left;">alcohol1-7/wk</td>
<td style="text-align: right;">0.2146</td>
<td style="text-align: right;">0.1439</td>
<td style="text-align: right;">-0.0729</td>
<td style="text-align: right;">0.4900</td>
<td style="text-align: right;">0.1368</td>
<td style="text-align: right;">1.0082</td>
</tr>
<tr class="even">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0493</td>
<td style="text-align: right;">0.0330</td>
<td style="text-align: right;">-0.1163</td>
<td style="text-align: right;">0.0164</td>
<td style="text-align: right;">0.1365</td>
<td style="text-align: right;">1.0143</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.3265</td>
<td style="text-align: right;">0.2115</td>
<td style="text-align: right;">-0.0745</td>
<td style="text-align: right;">0.7445</td>
<td style="text-align: right;">0.1058</td>
<td style="text-align: right;">1.0346</td>
</tr>
<tr class="even">
<td style="text-align: left;">eduSome College</td>
<td style="text-align: right;">0.3211</td>
<td style="text-align: right;">0.1582</td>
<td style="text-align: right;">0.0170</td>
<td style="text-align: right;">0.6301</td>
<td style="text-align: right;">0.0395</td>
<td style="text-align: right;">1.0044</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.5137</td>
<td style="text-align: right;">0.2242</td>
<td style="text-align: right;">0.0808</td>
<td style="text-align: right;">0.9485</td>
<td style="text-align: right;">0.0228</td>
<td style="text-align: right;">1.0542</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.4279</td>
<td style="text-align: right;">0.1608</td>
<td style="text-align: right;">-0.7486</td>
<td style="text-align: right;">-0.1201</td>
<td style="text-align: right;">0.0100</td>
<td style="text-align: right;">1.0138</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0530</td>
<td style="text-align: right;">0.0094</td>
<td style="text-align: right;">-0.0718</td>
<td style="text-align: right;">-0.0352</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0077</td>
</tr>
<tr class="even">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0494</td>
<td style="text-align: right;">0.0782</td>
<td style="text-align: right;">-1.2092</td>
<td style="text-align: right;">-0.8927</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0760</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-4_012cca9e69b9c8143406b2fb187d89bf">
<details><summary>Code</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb110</span>, <span class="va">jmb111</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb111 14960.83 14967.14 -7500.619
#&gt;  jmb110 14936.62 14974.37 -7539.549
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="dropping-alcohol-variable" class="level3" data-number="13.3.3"><h3 data-number="13.3.3" class="anchored" data-anchor-id="dropping-alcohol-variable">
<span class="header-section-number">13.3.3</span> Dropping <code>alcohol</code> variable</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-5_fab18affd9621f7fd880bdff076f8654">
<details><summary>Code</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s12</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="co"># alcohol +</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> </span>
<span>                  <span class="va">bc_pills</span> <span class="op">+</span> </span>
<span>                  <span class="va">children</span> <span class="op">+</span> </span>
<span>                  <span class="va">edu</span> <span class="op">+</span></span>
<span>                  <span class="va">employed</span> <span class="op">+</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="va">married</span> <span class="op">+</span> </span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb112</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s12</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb112</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 38%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 9%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0526</td>
<td style="text-align: right;">0.2625</td>
<td style="text-align: right;">-0.5733</td>
<td style="text-align: right;">0.4545</td>
<td style="text-align: right;">0.8280</td>
<td style="text-align: right;">1.0489</td>
</tr>
<tr class="even">
<td style="text-align: left;">bc_pillsEver use BC pills</td>
<td style="text-align: right;">-0.0313</td>
<td style="text-align: right;">0.1321</td>
<td style="text-align: right;">-0.2856</td>
<td style="text-align: right;">0.2316</td>
<td style="text-align: right;">0.8080</td>
<td style="text-align: right;">1.0093</td>
</tr>
<tr class="odd">
<td style="text-align: left;">eduCollege degree or higher</td>
<td style="text-align: right;">0.0421</td>
<td style="text-align: right;">0.1514</td>
<td style="text-align: right;">-0.2393</td>
<td style="text-align: right;">0.3359</td>
<td style="text-align: right;">0.8075</td>
<td style="text-align: right;">1.0098</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.1044</td>
<td style="text-align: right;">0.2508</td>
<td style="text-align: right;">-0.3843</td>
<td style="text-align: right;">0.5898</td>
<td style="text-align: right;">0.6767</td>
<td style="text-align: right;">1.0104</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.0841</td>
<td style="text-align: right;">0.1358</td>
<td style="text-align: right;">-0.3531</td>
<td style="text-align: right;">0.1725</td>
<td style="text-align: right;">0.5587</td>
<td style="text-align: right;">1.0048</td>
</tr>
<tr class="even">
<td style="text-align: left;">employedEmployed</td>
<td style="text-align: right;">0.0961</td>
<td style="text-align: right;">0.1465</td>
<td style="text-align: right;">-0.1848</td>
<td style="text-align: right;">0.3909</td>
<td style="text-align: right;">0.5102</td>
<td style="text-align: right;">1.0018</td>
</tr>
<tr class="odd">
<td style="text-align: left;">children</td>
<td style="text-align: right;">0.0377</td>
<td style="text-align: right;">0.0444</td>
<td style="text-align: right;">-0.0504</td>
<td style="text-align: right;">0.1254</td>
<td style="text-align: right;">0.3883</td>
<td style="text-align: right;">1.0285</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2585</td>
<td style="text-align: right;">0.2814</td>
<td style="text-align: right;">-0.8016</td>
<td style="text-align: right;">0.2907</td>
<td style="text-align: right;">0.3788</td>
<td style="text-align: right;">1.0124</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1634</td>
<td style="text-align: right;">0.1820</td>
<td style="text-align: right;">-0.2013</td>
<td style="text-align: right;">0.5182</td>
<td style="text-align: right;">0.3705</td>
<td style="text-align: right;">1.0115</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.6226</td>
<td style="text-align: right;">0.5995</td>
<td style="text-align: right;">-1.7773</td>
<td style="text-align: right;">0.5408</td>
<td style="text-align: right;">0.3017</td>
<td style="text-align: right;">1.0162</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2165</td>
<td style="text-align: right;">0.2040</td>
<td style="text-align: right;">-0.1965</td>
<td style="text-align: right;">0.6046</td>
<td style="text-align: right;">0.2992</td>
<td style="text-align: right;">1.0048</td>
</tr>
<tr class="even">
<td style="text-align: left;">marriedMarried/Partnered</td>
<td style="text-align: right;">0.1327</td>
<td style="text-align: right;">0.1254</td>
<td style="text-align: right;">-0.1205</td>
<td style="text-align: right;">0.3800</td>
<td style="text-align: right;">0.2828</td>
<td style="text-align: right;">1.0086</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.5814</td>
<td style="text-align: right;">0.4873</td>
<td style="text-align: right;">-0.3549</td>
<td style="text-align: right;">1.5214</td>
<td style="text-align: right;">0.2358</td>
<td style="text-align: right;">1.0165</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.3320</td>
<td style="text-align: right;">0.2669</td>
<td style="text-align: right;">-0.1891</td>
<td style="text-align: right;">0.8680</td>
<td style="text-align: right;">0.2082</td>
<td style="text-align: right;">1.0448</td>
</tr>
<tr class="odd">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0419</td>
<td style="text-align: right;">0.0322</td>
<td style="text-align: right;">-0.1089</td>
<td style="text-align: right;">0.0198</td>
<td style="text-align: right;">0.1878</td>
<td style="text-align: right;">1.0020</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.2756</td>
<td style="text-align: right;">0.1880</td>
<td style="text-align: right;">-0.1002</td>
<td style="text-align: right;">0.6403</td>
<td style="text-align: right;">0.1478</td>
<td style="text-align: right;">1.0059</td>
</tr>
<tr class="odd">
<td style="text-align: left;">eduSome College</td>
<td style="text-align: right;">0.3082</td>
<td style="text-align: right;">0.1564</td>
<td style="text-align: right;">0.0082</td>
<td style="text-align: right;">0.6126</td>
<td style="text-align: right;">0.0435</td>
<td style="text-align: right;">1.0079</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.4694</td>
<td style="text-align: right;">0.2023</td>
<td style="text-align: right;">0.0604</td>
<td style="text-align: right;">0.8798</td>
<td style="text-align: right;">0.0270</td>
<td style="text-align: right;">1.0008</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.4592</td>
<td style="text-align: right;">0.1602</td>
<td style="text-align: right;">-0.7686</td>
<td style="text-align: right;">-0.1355</td>
<td style="text-align: right;">0.0028</td>
<td style="text-align: right;">1.0002</td>
</tr>
<tr class="even">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0520</td>
<td style="text-align: right;">0.0110</td>
<td style="text-align: right;">-0.0734</td>
<td style="text-align: right;">-0.0313</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0129</td>
</tr>
<tr class="odd">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0164</td>
<td style="text-align: right;">0.0732</td>
<td style="text-align: right;">-1.1681</td>
<td style="text-align: right;">-0.8943</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0166</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-6_6fc91237018b26a13c50acb155012c73">
<details><summary>Code</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb111</span>, <span class="va">jmb112</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb112 14952.84 14963.39 -7503.797
#&gt;  jmb111 14960.83 14967.14 -7500.619
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="dropping-bc_pills-variable" class="level3" data-number="13.3.4"><h3 data-number="13.3.4" class="anchored" data-anchor-id="dropping-bc_pills-variable">
<span class="header-section-number">13.3.4</span> Dropping <code>bc_pills</code> variable</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-7_982a66ec817c5db5de7db2c11e175a35">
<details><summary>Code</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s13</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="co"># alcohol +</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> </span>
<span>                  <span class="co"># bc_pills + </span></span>
<span>                  <span class="va">children</span> <span class="op">+</span> </span>
<span>                  <span class="va">edu</span> <span class="op">+</span> </span>
<span>                  <span class="va">employed</span> <span class="op">+</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="va">married</span> <span class="op">+</span> </span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb113</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s13</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb113</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 38%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 9%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0675</td>
<td style="text-align: right;">0.2497</td>
<td style="text-align: right;">-0.5683</td>
<td style="text-align: right;">0.4160</td>
<td style="text-align: right;">0.7822</td>
<td style="text-align: right;">1.0029</td>
</tr>
<tr class="even">
<td style="text-align: left;">eduCollege degree or higher</td>
<td style="text-align: right;">0.0543</td>
<td style="text-align: right;">0.1440</td>
<td style="text-align: right;">-0.2232</td>
<td style="text-align: right;">0.3385</td>
<td style="text-align: right;">0.6985</td>
<td style="text-align: right;">1.0065</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.1076</td>
<td style="text-align: right;">0.2492</td>
<td style="text-align: right;">-0.3978</td>
<td style="text-align: right;">0.5935</td>
<td style="text-align: right;">0.6528</td>
<td style="text-align: right;">1.0087</td>
</tr>
<tr class="even">
<td style="text-align: left;">employedEmployed</td>
<td style="text-align: right;">0.0814</td>
<td style="text-align: right;">0.1428</td>
<td style="text-align: right;">-0.1971</td>
<td style="text-align: right;">0.3657</td>
<td style="text-align: right;">0.5793</td>
<td style="text-align: right;">1.0078</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.0812</td>
<td style="text-align: right;">0.1314</td>
<td style="text-align: right;">-0.3391</td>
<td style="text-align: right;">0.1801</td>
<td style="text-align: right;">0.5360</td>
<td style="text-align: right;">1.0037</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1431</td>
<td style="text-align: right;">0.1766</td>
<td style="text-align: right;">-0.2012</td>
<td style="text-align: right;">0.4865</td>
<td style="text-align: right;">0.4170</td>
<td style="text-align: right;">1.0108</td>
</tr>
<tr class="odd">
<td style="text-align: left;">children</td>
<td style="text-align: right;">0.0396</td>
<td style="text-align: right;">0.0461</td>
<td style="text-align: right;">-0.0481</td>
<td style="text-align: right;">0.1333</td>
<td style="text-align: right;">0.3833</td>
<td style="text-align: right;">1.0010</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2383</td>
<td style="text-align: right;">0.2714</td>
<td style="text-align: right;">-0.7781</td>
<td style="text-align: right;">0.2882</td>
<td style="text-align: right;">0.3767</td>
<td style="text-align: right;">1.0078</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.5727</td>
<td style="text-align: right;">0.5943</td>
<td style="text-align: right;">-1.7235</td>
<td style="text-align: right;">0.6244</td>
<td style="text-align: right;">0.3477</td>
<td style="text-align: right;">1.0129</td>
</tr>
<tr class="even">
<td style="text-align: left;">marriedMarried/Partnered</td>
<td style="text-align: right;">0.1197</td>
<td style="text-align: right;">0.1280</td>
<td style="text-align: right;">-0.1342</td>
<td style="text-align: right;">0.3784</td>
<td style="text-align: right;">0.3453</td>
<td style="text-align: right;">1.0169</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2233</td>
<td style="text-align: right;">0.2025</td>
<td style="text-align: right;">-0.1765</td>
<td style="text-align: right;">0.6187</td>
<td style="text-align: right;">0.2750</td>
<td style="text-align: right;">1.0031</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.5575</td>
<td style="text-align: right;">0.4951</td>
<td style="text-align: right;">-0.4203</td>
<td style="text-align: right;">1.4797</td>
<td style="text-align: right;">0.2740</td>
<td style="text-align: right;">1.0111</td>
</tr>
<tr class="odd">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0426</td>
<td style="text-align: right;">0.0327</td>
<td style="text-align: right;">-0.1068</td>
<td style="text-align: right;">0.0212</td>
<td style="text-align: right;">0.1928</td>
<td style="text-align: right;">1.0111</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.2838</td>
<td style="text-align: right;">0.1928</td>
<td style="text-align: right;">-0.0912</td>
<td style="text-align: right;">0.6584</td>
<td style="text-align: right;">0.1518</td>
<td style="text-align: right;">1.0081</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.3565</td>
<td style="text-align: right;">0.2509</td>
<td style="text-align: right;">-0.1002</td>
<td style="text-align: right;">0.8851</td>
<td style="text-align: right;">0.1333</td>
<td style="text-align: right;">1.0086</td>
</tr>
<tr class="even">
<td style="text-align: left;">eduSome College</td>
<td style="text-align: right;">0.3241</td>
<td style="text-align: right;">0.1520</td>
<td style="text-align: right;">0.0189</td>
<td style="text-align: right;">0.6135</td>
<td style="text-align: right;">0.0392</td>
<td style="text-align: right;">1.0189</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.4661</td>
<td style="text-align: right;">0.2019</td>
<td style="text-align: right;">0.0642</td>
<td style="text-align: right;">0.8561</td>
<td style="text-align: right;">0.0190</td>
<td style="text-align: right;">1.0007</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.4576</td>
<td style="text-align: right;">0.1550</td>
<td style="text-align: right;">-0.7635</td>
<td style="text-align: right;">-0.1533</td>
<td style="text-align: right;">0.0018</td>
<td style="text-align: right;">1.0322</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0515</td>
<td style="text-align: right;">0.0109</td>
<td style="text-align: right;">-0.0724</td>
<td style="text-align: right;">-0.0301</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0525</td>
</tr>
<tr class="even">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0025</td>
<td style="text-align: right;">0.0745</td>
<td style="text-align: right;">-1.1502</td>
<td style="text-align: right;">-0.8623</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.1228</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-8_84c0e619b8e09accf0df6409d2d6e32e">
<details><summary>Code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb113</span>, <span class="va">jmb112</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb113 14936.96 14954.46 -7493.410
#&gt;  jmb112 14952.84 14963.39 -7503.797
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="dropping-education-variable" class="level3" data-number="13.3.5"><h3 data-number="13.3.5" class="anchored" data-anchor-id="dropping-education-variable">
<span class="header-section-number">13.3.5</span> <strong>Dropping <code>education</code> variable</strong>
</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-9_d1177c31535b639655374a55101a50f6">
<details><summary>Code</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s14</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="co"># alcohol +</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> </span>
<span>                  <span class="co"># bc_pills + </span></span>
<span>                  <span class="va">children</span> <span class="op">+</span> </span>
<span>                  <span class="co"># edu + </span></span>
<span>                  <span class="va">employed</span> <span class="op">+</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="va">married</span> <span class="op">+</span> </span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb114</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s14</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb114</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 35%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0650</td>
<td style="text-align: right;">0.2544</td>
<td style="text-align: right;">-0.5260</td>
<td style="text-align: right;">0.4564</td>
<td style="text-align: right;">0.7788</td>
<td style="text-align: right;">1.0187</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.0989</td>
<td style="text-align: right;">0.2492</td>
<td style="text-align: right;">-0.3861</td>
<td style="text-align: right;">0.6086</td>
<td style="text-align: right;">0.6942</td>
<td style="text-align: right;">1.0651</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.0562</td>
<td style="text-align: right;">0.1335</td>
<td style="text-align: right;">-0.3176</td>
<td style="text-align: right;">0.2140</td>
<td style="text-align: right;">0.6732</td>
<td style="text-align: right;">1.0075</td>
</tr>
<tr class="even">
<td style="text-align: left;">employedEmployed</td>
<td style="text-align: right;">0.0802</td>
<td style="text-align: right;">0.1452</td>
<td style="text-align: right;">-0.1974</td>
<td style="text-align: right;">0.3640</td>
<td style="text-align: right;">0.5987</td>
<td style="text-align: right;">1.0132</td>
</tr>
<tr class="odd">
<td style="text-align: left;">children</td>
<td style="text-align: right;">0.0351</td>
<td style="text-align: right;">0.0458</td>
<td style="text-align: right;">-0.0555</td>
<td style="text-align: right;">0.1233</td>
<td style="text-align: right;">0.4490</td>
<td style="text-align: right;">1.0008</td>
</tr>
<tr class="even">
<td style="text-align: left;">marriedMarried/Partnered</td>
<td style="text-align: right;">0.1138</td>
<td style="text-align: right;">0.1226</td>
<td style="text-align: right;">-0.1311</td>
<td style="text-align: right;">0.3584</td>
<td style="text-align: right;">0.3377</td>
<td style="text-align: right;">1.0021</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2614</td>
<td style="text-align: right;">0.2734</td>
<td style="text-align: right;">-0.8078</td>
<td style="text-align: right;">0.2571</td>
<td style="text-align: right;">0.3328</td>
<td style="text-align: right;">1.0228</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1751</td>
<td style="text-align: right;">0.1766</td>
<td style="text-align: right;">-0.1796</td>
<td style="text-align: right;">0.5264</td>
<td style="text-align: right;">0.3145</td>
<td style="text-align: right;">1.0025</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2154</td>
<td style="text-align: right;">0.2052</td>
<td style="text-align: right;">-0.1807</td>
<td style="text-align: right;">0.6134</td>
<td style="text-align: right;">0.2888</td>
<td style="text-align: right;">1.0138</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.6587</td>
<td style="text-align: right;">0.5901</td>
<td style="text-align: right;">-1.8022</td>
<td style="text-align: right;">0.4997</td>
<td style="text-align: right;">0.2767</td>
<td style="text-align: right;">1.0142</td>
</tr>
<tr class="odd">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0401</td>
<td style="text-align: right;">0.0318</td>
<td style="text-align: right;">-0.1015</td>
<td style="text-align: right;">0.0226</td>
<td style="text-align: right;">0.2032</td>
<td style="text-align: right;">1.0183</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.6530</td>
<td style="text-align: right;">0.4730</td>
<td style="text-align: right;">-0.3115</td>
<td style="text-align: right;">1.5461</td>
<td style="text-align: right;">0.1787</td>
<td style="text-align: right;">1.0251</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.2963</td>
<td style="text-align: right;">0.1930</td>
<td style="text-align: right;">-0.0857</td>
<td style="text-align: right;">0.6785</td>
<td style="text-align: right;">0.1243</td>
<td style="text-align: right;">1.0156</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.4151</td>
<td style="text-align: right;">0.2617</td>
<td style="text-align: right;">-0.1324</td>
<td style="text-align: right;">0.9171</td>
<td style="text-align: right;">0.1192</td>
<td style="text-align: right;">1.0238</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.4952</td>
<td style="text-align: right;">0.2056</td>
<td style="text-align: right;">0.0703</td>
<td style="text-align: right;">0.8835</td>
<td style="text-align: right;">0.0257</td>
<td style="text-align: right;">1.0173</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.4082</td>
<td style="text-align: right;">0.1518</td>
<td style="text-align: right;">-0.7118</td>
<td style="text-align: right;">-0.1115</td>
<td style="text-align: right;">0.0063</td>
<td style="text-align: right;">1.0019</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0515</td>
<td style="text-align: right;">0.0109</td>
<td style="text-align: right;">-0.0730</td>
<td style="text-align: right;">-0.0304</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0025</td>
</tr>
<tr class="even">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0139</td>
<td style="text-align: right;">0.0740</td>
<td style="text-align: right;">-1.1671</td>
<td style="text-align: right;">-0.8812</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0422</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-10_52b7730dfc4a440afa9b47466b016721">
<details><summary>Code</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb113</span>, <span class="va">jmb114</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb113 14936.96 14954.46 -7493.410
#&gt;  jmb114 14948.89 14960.03 -7487.885
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="dropping-employed-variable" class="level3" data-number="13.3.6"><h3 data-number="13.3.6" class="anchored" data-anchor-id="dropping-employed-variable">
<span class="header-section-number">13.3.6</span> Dropping <code>employed</code> variable</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-11_b4daf2f7014f4f8dffa108e3036a3d0b">
<details><summary>Code</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s15</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="co"># alcohol +</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> </span>
<span>                  <span class="co"># bc_pills + </span></span>
<span>                  <span class="va">children</span> <span class="op">+</span> </span>
<span>                  <span class="co"># edu + </span></span>
<span>                  <span class="co"># employed +</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="va">married</span> <span class="op">+</span> </span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb115</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s15</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb115</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 35%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0601</td>
<td style="text-align: right;">0.2541</td>
<td style="text-align: right;">-0.5529</td>
<td style="text-align: right;">0.4579</td>
<td style="text-align: right;">0.8022</td>
<td style="text-align: right;">1.0041</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.0930</td>
<td style="text-align: right;">0.2494</td>
<td style="text-align: right;">-0.3850</td>
<td style="text-align: right;">0.5696</td>
<td style="text-align: right;">0.7068</td>
<td style="text-align: right;">1.0104</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.0694</td>
<td style="text-align: right;">0.1292</td>
<td style="text-align: right;">-0.3236</td>
<td style="text-align: right;">0.1890</td>
<td style="text-align: right;">0.5952</td>
<td style="text-align: right;">1.0027</td>
</tr>
<tr class="even">
<td style="text-align: left;">children</td>
<td style="text-align: right;">0.0329</td>
<td style="text-align: right;">0.0460</td>
<td style="text-align: right;">-0.0605</td>
<td style="text-align: right;">0.1212</td>
<td style="text-align: right;">0.4657</td>
<td style="text-align: right;">1.0055</td>
</tr>
<tr class="odd">
<td style="text-align: left;">marriedMarried/Partnered</td>
<td style="text-align: right;">0.1145</td>
<td style="text-align: right;">0.1265</td>
<td style="text-align: right;">-0.1311</td>
<td style="text-align: right;">0.3622</td>
<td style="text-align: right;">0.3700</td>
<td style="text-align: right;">1.0019</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2595</td>
<td style="text-align: right;">0.2669</td>
<td style="text-align: right;">-0.7766</td>
<td style="text-align: right;">0.2621</td>
<td style="text-align: right;">0.3467</td>
<td style="text-align: right;">1.0078</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2146</td>
<td style="text-align: right;">0.2056</td>
<td style="text-align: right;">-0.1788</td>
<td style="text-align: right;">0.6176</td>
<td style="text-align: right;">0.3027</td>
<td style="text-align: right;">1.0038</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1864</td>
<td style="text-align: right;">0.1756</td>
<td style="text-align: right;">-0.1567</td>
<td style="text-align: right;">0.5283</td>
<td style="text-align: right;">0.2913</td>
<td style="text-align: right;">1.0162</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.6746</td>
<td style="text-align: right;">0.6047</td>
<td style="text-align: right;">-1.8211</td>
<td style="text-align: right;">0.5469</td>
<td style="text-align: right;">0.2792</td>
<td style="text-align: right;">1.0218</td>
</tr>
<tr class="even">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0408</td>
<td style="text-align: right;">0.0328</td>
<td style="text-align: right;">-0.1069</td>
<td style="text-align: right;">0.0219</td>
<td style="text-align: right;">0.2105</td>
<td style="text-align: right;">1.0098</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.6410</td>
<td style="text-align: right;">0.4813</td>
<td style="text-align: right;">-0.3289</td>
<td style="text-align: right;">1.5575</td>
<td style="text-align: right;">0.1835</td>
<td style="text-align: right;">1.0130</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.2896</td>
<td style="text-align: right;">0.1954</td>
<td style="text-align: right;">-0.0881</td>
<td style="text-align: right;">0.6699</td>
<td style="text-align: right;">0.1332</td>
<td style="text-align: right;">1.0080</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.3835</td>
<td style="text-align: right;">0.2594</td>
<td style="text-align: right;">-0.1136</td>
<td style="text-align: right;">0.8876</td>
<td style="text-align: right;">0.1302</td>
<td style="text-align: right;">1.0042</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.4871</td>
<td style="text-align: right;">0.2052</td>
<td style="text-align: right;">0.0720</td>
<td style="text-align: right;">0.8897</td>
<td style="text-align: right;">0.0195</td>
<td style="text-align: right;">1.0057</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.4278</td>
<td style="text-align: right;">0.1550</td>
<td style="text-align: right;">-0.7441</td>
<td style="text-align: right;">-0.1349</td>
<td style="text-align: right;">0.0023</td>
<td style="text-align: right;">1.0068</td>
</tr>
<tr class="even">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0505</td>
<td style="text-align: right;">0.0109</td>
<td style="text-align: right;">-0.0724</td>
<td style="text-align: right;">-0.0295</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0092</td>
</tr>
<tr class="odd">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0115</td>
<td style="text-align: right;">0.0649</td>
<td style="text-align: right;">-1.1533</td>
<td style="text-align: right;">-0.8969</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.1440</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-12_efcdf6edae974b8fcafba672b94ae2b7">
<details><summary>Code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb115</span>, <span class="va">jmb114</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb115 14944.05 14953.99 -7491.134
#&gt;  jmb114 14948.89 14960.03 -7487.885
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="dropping-children-variable" class="level3" data-number="13.3.7"><h3 data-number="13.3.7" class="anchored" data-anchor-id="dropping-children-variable">
<span class="header-section-number">13.3.7</span> Dropping <code>children</code> variable</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-13_93b8633889da1df6ff61eb4ec6b77145">
<details><summary>Code</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s16</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="co"># alcohol +</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> </span>
<span>                  <span class="co"># bc_pills + </span></span>
<span>                  <span class="co"># children + </span></span>
<span>                  <span class="co"># edu + </span></span>
<span>                  <span class="co"># employed +</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="va">married</span> <span class="op">+</span> </span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb116</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s16</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb116</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 35%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0609</td>
<td style="text-align: right;">0.2613</td>
<td style="text-align: right;">-0.5707</td>
<td style="text-align: right;">0.4295</td>
<td style="text-align: right;">0.8297</td>
<td style="text-align: right;">1.0165</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.0714</td>
<td style="text-align: right;">0.1321</td>
<td style="text-align: right;">-0.3289</td>
<td style="text-align: right;">0.1824</td>
<td style="text-align: right;">0.6035</td>
<td style="text-align: right;">1.0054</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.1266</td>
<td style="text-align: right;">0.2536</td>
<td style="text-align: right;">-0.3908</td>
<td style="text-align: right;">0.5998</td>
<td style="text-align: right;">0.5907</td>
<td style="text-align: right;">1.0121</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.5827</td>
<td style="text-align: right;">0.6001</td>
<td style="text-align: right;">-1.6890</td>
<td style="text-align: right;">0.6438</td>
<td style="text-align: right;">0.3402</td>
<td style="text-align: right;">1.0149</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1686</td>
<td style="text-align: right;">0.1733</td>
<td style="text-align: right;">-0.1706</td>
<td style="text-align: right;">0.5062</td>
<td style="text-align: right;">0.3248</td>
<td style="text-align: right;">1.0013</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2667</td>
<td style="text-align: right;">0.2739</td>
<td style="text-align: right;">-0.7804</td>
<td style="text-align: right;">0.2786</td>
<td style="text-align: right;">0.3210</td>
<td style="text-align: right;">1.0119</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2351</td>
<td style="text-align: right;">0.2095</td>
<td style="text-align: right;">-0.1799</td>
<td style="text-align: right;">0.6354</td>
<td style="text-align: right;">0.2733</td>
<td style="text-align: right;">1.0061</td>
</tr>
<tr class="even">
<td style="text-align: left;">marriedMarried/Partnered</td>
<td style="text-align: right;">0.1429</td>
<td style="text-align: right;">0.1281</td>
<td style="text-align: right;">-0.1102</td>
<td style="text-align: right;">0.3966</td>
<td style="text-align: right;">0.2652</td>
<td style="text-align: right;">1.0073</td>
</tr>
<tr class="odd">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0369</td>
<td style="text-align: right;">0.0317</td>
<td style="text-align: right;">-0.0993</td>
<td style="text-align: right;">0.0241</td>
<td style="text-align: right;">0.2360</td>
<td style="text-align: right;">1.0047</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.6183</td>
<td style="text-align: right;">0.4950</td>
<td style="text-align: right;">-0.4182</td>
<td style="text-align: right;">1.5176</td>
<td style="text-align: right;">0.2220</td>
<td style="text-align: right;">1.0057</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.4112</td>
<td style="text-align: right;">0.2649</td>
<td style="text-align: right;">-0.1133</td>
<td style="text-align: right;">0.9522</td>
<td style="text-align: right;">0.1218</td>
<td style="text-align: right;">1.0080</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.3182</td>
<td style="text-align: right;">0.1940</td>
<td style="text-align: right;">-0.0636</td>
<td style="text-align: right;">0.7012</td>
<td style="text-align: right;">0.1033</td>
<td style="text-align: right;">1.0022</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.5079</td>
<td style="text-align: right;">0.2094</td>
<td style="text-align: right;">0.0873</td>
<td style="text-align: right;">0.9078</td>
<td style="text-align: right;">0.0153</td>
<td style="text-align: right;">1.0022</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.3958</td>
<td style="text-align: right;">0.1527</td>
<td style="text-align: right;">-0.7078</td>
<td style="text-align: right;">-0.0852</td>
<td style="text-align: right;">0.0090</td>
<td style="text-align: right;">1.0086</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0505</td>
<td style="text-align: right;">0.0111</td>
<td style="text-align: right;">-0.0734</td>
<td style="text-align: right;">-0.0300</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0262</td>
</tr>
<tr class="even">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0129</td>
<td style="text-align: right;">0.0743</td>
<td style="text-align: right;">-1.1628</td>
<td style="text-align: right;">-0.8714</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.4793</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-14_beb3c607f566330de6d0d6ae620fcbca">
<details><summary>Code</summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb115</span>, <span class="va">jmb116</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb116 14942.79 14953.21 -7487.590
#&gt;  jmb115 14944.05 14953.99 -7491.134
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="dropping-married-variable" class="level3" data-number="13.3.8"><h3 data-number="13.3.8" class="anchored" data-anchor-id="dropping-married-variable">
<span class="header-section-number">13.3.8</span> Dropping <code>married</code> variable</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-15_55617cb14fbc3f8f14a90c18ab474ac0">
<details><summary>Code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s17</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="co"># alcohol +</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> </span>
<span>                  <span class="co"># bc_pills + </span></span>
<span>                  <span class="co"># children + </span></span>
<span>                  <span class="co"># edu + </span></span>
<span>                  <span class="co"># employed +</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="co"># married + </span></span>
<span>                  <span class="va">phys_act</span> <span class="op">+</span> </span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb117</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s17</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb117</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 31%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0643</td>
<td style="text-align: right;">0.2525</td>
<td style="text-align: right;">-0.5547</td>
<td style="text-align: right;">0.4422</td>
<td style="text-align: right;">0.7918</td>
<td style="text-align: right;">1.0066</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.0730</td>
<td style="text-align: right;">0.1318</td>
<td style="text-align: right;">-0.3308</td>
<td style="text-align: right;">0.1843</td>
<td style="text-align: right;">0.5785</td>
<td style="text-align: right;">1.0011</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.1375</td>
<td style="text-align: right;">0.2432</td>
<td style="text-align: right;">-0.3675</td>
<td style="text-align: right;">0.5938</td>
<td style="text-align: right;">0.5613</td>
<td style="text-align: right;">1.0510</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2585</td>
<td style="text-align: right;">0.2838</td>
<td style="text-align: right;">-0.8124</td>
<td style="text-align: right;">0.2808</td>
<td style="text-align: right;">0.3722</td>
<td style="text-align: right;">1.0347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.5028</td>
<td style="text-align: right;">0.5834</td>
<td style="text-align: right;">-1.6700</td>
<td style="text-align: right;">0.6831</td>
<td style="text-align: right;">0.3642</td>
<td style="text-align: right;">1.0195</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1566</td>
<td style="text-align: right;">0.1723</td>
<td style="text-align: right;">-0.1748</td>
<td style="text-align: right;">0.4975</td>
<td style="text-align: right;">0.3617</td>
<td style="text-align: right;">1.0028</td>
</tr>
<tr class="odd">
<td style="text-align: left;">phys_act</td>
<td style="text-align: right;">-0.0327</td>
<td style="text-align: right;">0.0327</td>
<td style="text-align: right;">-0.0977</td>
<td style="text-align: right;">0.0309</td>
<td style="text-align: right;">0.3082</td>
<td style="text-align: right;">1.0107</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.5336</td>
<td style="text-align: right;">0.5031</td>
<td style="text-align: right;">-0.4807</td>
<td style="text-align: right;">1.4998</td>
<td style="text-align: right;">0.2867</td>
<td style="text-align: right;">1.0448</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2500</td>
<td style="text-align: right;">0.2089</td>
<td style="text-align: right;">-0.1529</td>
<td style="text-align: right;">0.6596</td>
<td style="text-align: right;">0.2358</td>
<td style="text-align: right;">1.0095</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.4221</td>
<td style="text-align: right;">0.2601</td>
<td style="text-align: right;">-0.1239</td>
<td style="text-align: right;">0.9022</td>
<td style="text-align: right;">0.1258</td>
<td style="text-align: right;">1.0045</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.3092</td>
<td style="text-align: right;">0.1857</td>
<td style="text-align: right;">-0.0561</td>
<td style="text-align: right;">0.6829</td>
<td style="text-align: right;">0.0952</td>
<td style="text-align: right;">1.0079</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.5107</td>
<td style="text-align: right;">0.2027</td>
<td style="text-align: right;">0.1040</td>
<td style="text-align: right;">0.9010</td>
<td style="text-align: right;">0.0153</td>
<td style="text-align: right;">1.0116</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.4125</td>
<td style="text-align: right;">0.1528</td>
<td style="text-align: right;">-0.7081</td>
<td style="text-align: right;">-0.1092</td>
<td style="text-align: right;">0.0087</td>
<td style="text-align: right;">1.0282</td>
</tr>
<tr class="even">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0512</td>
<td style="text-align: right;">0.0109</td>
<td style="text-align: right;">-0.0725</td>
<td style="text-align: right;">-0.0303</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0068</td>
</tr>
<tr class="odd">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0113</td>
<td style="text-align: right;">0.0699</td>
<td style="text-align: right;">-1.1481</td>
<td style="text-align: right;">-0.8635</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0584</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-16_428e6111528f6065cb78588e270f00b3">
<details><summary>Code</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb116</span>, <span class="va">jmb117</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb117 14935.94 14952.56 -7486.763
#&gt;  jmb116 14942.79 14953.21 -7487.590
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="dropping-phys_act-variable" class="level3" data-number="13.3.9"><h3 data-number="13.3.9" class="anchored" data-anchor-id="dropping-phys_act-variable">
<span class="header-section-number">13.3.9</span> Dropping <code>phys_act</code> variable</h3>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-17_4d489b1ccdf970e1d27f2e8351711406">
<details><summary>Code</summary><div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">s18</span> <span class="op">&lt;-</span> <span class="fu">coxph</span><span class="op">(</span><span class="fu">Surv</span><span class="op">(</span><span class="va">etime</span>, <span class="va">event</span><span class="op">)</span> <span class="op">~</span> </span>
<span>                  <span class="fl">0</span> <span class="op">+</span> <span class="co"># alcohol +</span></span>
<span>                  <span class="va">bmi</span> <span class="op">+</span> </span>
<span>                  <span class="co"># bc_pills + </span></span>
<span>                  <span class="co"># children + </span></span>
<span>                  <span class="co"># edu + </span></span>
<span>                  <span class="co"># employed +</span></span>
<span>                  <span class="co"># health +</span></span>
<span>                  <span class="co"># married + </span></span>
<span>                  <span class="co"># phys_act + </span></span>
<span>                  <span class="va">ethnic_black</span> <span class="op">+</span> <span class="va">ethnic_chine</span> <span class="op">+</span> <span class="va">ethnic_hispa</span> <span class="op">+</span> <span class="va">ethnic_japan</span> <span class="op">+</span> </span>
<span>                  <span class="va">site_c</span> <span class="op">+</span> <span class="va">site_m</span> <span class="op">+</span> <span class="va">site_nj</span> <span class="op">+</span> <span class="va">site_p</span> <span class="op">+</span> <span class="va">site_ucd</span> <span class="op">+</span> <span class="va">site_ucla</span> <span class="op">+</span> </span>
<span>                  <span class="va">smoke_current_smoker</span> <span class="op">+</span> <span class="va">smoke_past_only</span>,</span>
<span>                data <span class="op">=</span> <span class="va">swan_amh13</span>, </span>
<span>                x <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                model <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">jmb118</span> <span class="op">&lt;-</span> <span class="fu">JMbayes2</span><span class="fu">::</span><span class="fu"><a href="https://drizopoulos.github.io/JMbayes2/reference/jm.html">jm</a></span><span class="op">(</span>Surv_object <span class="op">=</span> <span class="va">s18</span>,</span>
<span>                               Mixed_objects <span class="op">=</span> <span class="va">lme1</span>, </span>
<span>                               time_var <span class="op">=</span> <span class="st">"time"</span>,</span>
<span>                               control <span class="op">=</span> <span class="va">jmcontrol</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">jmb118</span><span class="op">)</span><span class="op">$</span><span class="va">Survival</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">P</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 31%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 10%">
<col style="width: 10%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">StDev</th>
<th style="text-align: right;">2.5%</th>
<th style="text-align: right;">97.5%</th>
<th style="text-align: right;">P</th>
<th style="text-align: right;">Rhat</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ethnic_japan</td>
<td style="text-align: right;">-0.0511</td>
<td style="text-align: right;">0.2490</td>
<td style="text-align: right;">-0.5438</td>
<td style="text-align: right;">0.4605</td>
<td style="text-align: right;">0.8325</td>
<td style="text-align: right;">1.0240</td>
</tr>
<tr class="even">
<td style="text-align: left;">smoke_past_only</td>
<td style="text-align: right;">-0.0728</td>
<td style="text-align: right;">0.1306</td>
<td style="text-align: right;">-0.3284</td>
<td style="text-align: right;">0.1835</td>
<td style="text-align: right;">0.5852</td>
<td style="text-align: right;">1.0051</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucd</td>
<td style="text-align: right;">0.1385</td>
<td style="text-align: right;">0.2503</td>
<td style="text-align: right;">-0.3576</td>
<td style="text-align: right;">0.6356</td>
<td style="text-align: right;">0.5712</td>
<td style="text-align: right;">1.0511</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_chine</td>
<td style="text-align: right;">-0.2135</td>
<td style="text-align: right;">0.2695</td>
<td style="text-align: right;">-0.7481</td>
<td style="text-align: right;">0.3114</td>
<td style="text-align: right;">0.4195</td>
<td style="text-align: right;">1.0261</td>
</tr>
<tr class="odd">
<td style="text-align: left;">smoke_current_smoker</td>
<td style="text-align: right;">0.1437</td>
<td style="text-align: right;">0.1672</td>
<td style="text-align: right;">-0.1833</td>
<td style="text-align: right;">0.4681</td>
<td style="text-align: right;">0.3963</td>
<td style="text-align: right;">1.0056</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_hispa</td>
<td style="text-align: right;">-0.5782</td>
<td style="text-align: right;">0.5669</td>
<td style="text-align: right;">-1.6623</td>
<td style="text-align: right;">0.5543</td>
<td style="text-align: right;">0.3123</td>
<td style="text-align: right;">1.0107</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_c</td>
<td style="text-align: right;">0.2561</td>
<td style="text-align: right;">0.1944</td>
<td style="text-align: right;">-0.1430</td>
<td style="text-align: right;">0.6273</td>
<td style="text-align: right;">0.1853</td>
<td style="text-align: right;">1.0065</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_nj</td>
<td style="text-align: right;">0.6320</td>
<td style="text-align: right;">0.4694</td>
<td style="text-align: right;">-0.3280</td>
<td style="text-align: right;">1.5110</td>
<td style="text-align: right;">0.1825</td>
<td style="text-align: right;">1.0291</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_ucla</td>
<td style="text-align: right;">0.4394</td>
<td style="text-align: right;">0.2585</td>
<td style="text-align: right;">-0.0804</td>
<td style="text-align: right;">0.9214</td>
<td style="text-align: right;">0.0943</td>
<td style="text-align: right;">1.0547</td>
</tr>
<tr class="even">
<td style="text-align: left;">site_m</td>
<td style="text-align: right;">0.3340</td>
<td style="text-align: right;">0.1861</td>
<td style="text-align: right;">-0.0411</td>
<td style="text-align: right;">0.6894</td>
<td style="text-align: right;">0.0727</td>
<td style="text-align: right;">1.0164</td>
</tr>
<tr class="odd">
<td style="text-align: left;">site_p</td>
<td style="text-align: right;">0.5133</td>
<td style="text-align: right;">0.2075</td>
<td style="text-align: right;">0.0901</td>
<td style="text-align: right;">0.9001</td>
<td style="text-align: right;">0.0177</td>
<td style="text-align: right;">1.0246</td>
</tr>
<tr class="even">
<td style="text-align: left;">ethnic_black</td>
<td style="text-align: right;">-0.3949</td>
<td style="text-align: right;">0.1555</td>
<td style="text-align: right;">-0.7010</td>
<td style="text-align: right;">-0.0892</td>
<td style="text-align: right;">0.0105</td>
<td style="text-align: right;">1.0046</td>
</tr>
<tr class="odd">
<td style="text-align: left;">bmi</td>
<td style="text-align: right;">-0.0498</td>
<td style="text-align: right;">0.0110</td>
<td style="text-align: right;">-0.0713</td>
<td style="text-align: right;">-0.0284</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.0031</td>
</tr>
<tr class="even">
<td style="text-align: left;">value(lamh)</td>
<td style="text-align: right;">-1.0147</td>
<td style="text-align: right;">0.0748</td>
<td style="text-align: right;">-1.1600</td>
<td style="text-align: right;">-0.8781</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">1.1056</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-18_d14993939580293c0c72d5df2b9e6f70">
<details><summary>Code</summary><div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb118</span>, <span class="va">jmb117</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb117 14935.94 14952.56 -7486.763
#&gt;  jmb118 14944.10 14955.29 -7518.653
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section></section><section id="comparison-for-models" class="level2" data-number="13.4"><h2 data-number="13.4" class="anchored" data-anchor-id="comparison-for-models">
<span class="header-section-number">13.4</span> Comparison for models</h2>
<div class="cell" data-hash="13_model_selection_2_cache/html/unnamed-chunk-19_7573594d73cc7d3a9bc146072389afca">
<details><summary>Code</summary><div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">compare_jm</span><span class="op">(</span><span class="va">jmb111</span>, <span class="va">jmb112</span>, <span class="va">jmb113</span>, <span class="va">jmb114</span>, <span class="va">jmb115</span>, <span class="va">jmb116</span>, <span class="va">jmb117</span>, <span class="va">jmb118</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>#&gt; 
#&gt;              DIC     WAIC      LPML
#&gt;  jmb117 14935.94 14952.56 -7486.763
#&gt;  jmb116 14942.79 14953.21 -7487.590
#&gt;  jmb115 14944.05 14953.99 -7491.134
#&gt;  jmb113 14936.96 14954.46 -7493.410
#&gt;  jmb118 14944.10 14955.29 -7518.653
#&gt;  jmb114 14948.89 14960.03 -7487.885
#&gt;  jmb112 14952.84 14963.39 -7503.797
#&gt;  jmb111 14960.83 14967.14 -7500.619
#&gt; 
#&gt; The criteria are calculated based on the marginal log-likelihood.</code></pre>
</div>
</div>
</section><section id="the-final-model" class="level2" data-number="13.5"><h2 data-number="13.5" class="anchored" data-anchor-id="the-final-model">
<span class="header-section-number">13.5</span> The final model</h2>
<p>For Chapter10, we have the model with <code>bc_pills</code> dropped from the new model.</p>
<p><span class="math display">\[
\begin{split}
  jmb117: &amp; \\
  lme1: \ \ \  &amp; \pmb m(time) = (fixed = lamh \sim time, \ random = \sim time| id) \\
  surv16: \ \ \ &amp; Surv(etime, event) \sim phys_act + (married) + bmi + factor(site) + \\
  &amp; factor(ethnic) + factor(smoke) + \pmb m(time)
\end{split}
\]</span></p>
<pre><code>s17 &lt;- coxph(Surv(etime, event) ~ 
                  0 + # alcohol +
                  bmi + 
                  # bc_pills + 
                  # children + 
                  # edu + 
                  # employed +
                  # health +
                  # married + 
                  phys_act + 
                  ethnic_black + ethnic_chine + ethnic_hispa + ethnic_japan + 
                  site_c + site_m + site_nj + site_p + site_ucd + site_ucla + 
                  smoke_current_smoker + smoke_past_only,
                data = swan_amh13, 
                x = TRUE,
                model = TRUE)

jmb117 &lt;- JMbayes2::jm(Surv_object = s17,
                               Mixed_objects = lme1, 
                               time_var = "time",
                               control = jmcontrol) </code></pre>
<ul class="task-list">
<li>
<input type="checkbox" disabled="" checked="">
You are first-rate!</li>
</ul>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./12_model_selection.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Model Selection I - Dummy</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./14_rate_value_baseline.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Rate Value Baseline</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb30" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Model Selection II - Factor"</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">warnings =</span> <span class="cn">FALSE</span>,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">comment =</span> <span class="st">"#&gt;"</span>,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cache =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>                      <span class="co">#results = "hide",</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>                      <span class="at">digits =</span> <span class="dv">4</span>,</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>                      <span class="at">error =</span> <span class="cn">FALSE</span>)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ## clean the R environment</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a><span class="co"># graphics.off()</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a><span class="co"># rm(list = ls())</span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co"># freshr::freshr()</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="do">## load packages</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plyr)</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(JMbayes2, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">load_all</span>()</span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a><span class="do">## check the directory for the file</span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a><span class="co"># here::dr_here()</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">set_here</span>()</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a><span class="in">```{css, "css-setup", echo=FALSE}</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a><span class="op">.</span><span class="fu">scroll</span><span class="dv">-100</span> <span class="op">{</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  max<span class="op">-</span>height<span class="op">:</span> 300px<span class="op">;</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>  max<span class="op">-</span>width<span class="op">:</span> 1000px<span class="op">;</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>  overflow<span class="op">-</span>y<span class="op">:</span> auto<span class="op">;</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>  background<span class="op">-</span>color<span class="op">:</span> inherit<span class="op">;</span></span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a><span class="fu">## Goal of the analysis</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="va">[x]</span> Backward model selection joint model (without rate) with <span class="in">`JMbayes2`</span></span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="va">[x]</span> Rate model, Baseline Rate model, Value model comparison</span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="va">[x]</span> Tables for the models</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="va">[x]</span> <span class="in">`r praise::praise()`</span></span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dummy variables for `site` and `ethnicity`</span></span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: "dummy_variables"</span></span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data/swan_amh03.rda"</span>)</span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"data/swan_amh13.rda"</span>)</span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a>control <span class="ot">=</span> <span class="fu">lmeControl</span>(<span class="at">opt =</span> <span class="st">"optim"</span>)</span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>jmcontrol <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">n_iter =</span> <span class="dv">5000</span>, </span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a>                  <span class="at">n_burnin =</span> <span class="dv">1000</span>, </span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a>                  <span class="at">n_chains =</span> <span class="dv">3</span>,</span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a>                  <span class="at">seed =</span> <span class="dv">55555</span>,</span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a>                  <span class="at">cores =</span> <span class="dv">3</span>)</span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a>lme1 <span class="ot">&lt;-</span> <span class="fu">lme</span>(lamh <span class="sc">~</span> time,</span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh03,</span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a>                <span class="at">control =</span> control,</span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a>                <span class="at">random =</span> <span class="sc">~</span> time<span class="sc">|</span> id)</span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a><span class="fu">## Fit the joint model</span></span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-78"><a href="#cb30-78" aria-hidden="true" tabindex="-1"></a>Need to keep $site + ethnic + smoke + bmi$</span>
<span id="cb30-79"><a href="#cb30-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-80"><a href="#cb30-80" aria-hidden="true" tabindex="-1"></a><span class="fu">### Full model</span></span>
<span id="cb30-81"><a href="#cb30-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-84"><a href="#cb30-84" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-85"><a href="#cb30-85" aria-hidden="true" tabindex="-1"></a>s10 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-86"><a href="#cb30-86" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> alcohol <span class="sc">+</span></span>
<span id="cb30-87"><a href="#cb30-87" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> bc_pills <span class="sc">+</span> </span>
<span id="cb30-88"><a href="#cb30-88" aria-hidden="true" tabindex="-1"></a>                  children <span class="sc">+</span> edu <span class="sc">+</span> employed <span class="sc">+</span></span>
<span id="cb30-89"><a href="#cb30-89" aria-hidden="true" tabindex="-1"></a>                  health <span class="sc">+</span></span>
<span id="cb30-90"><a href="#cb30-90" aria-hidden="true" tabindex="-1"></a>                  married <span class="sc">+</span> </span>
<span id="cb30-91"><a href="#cb30-91" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-92"><a href="#cb30-92" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-93"><a href="#cb30-93" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-94"><a href="#cb30-94" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-95"><a href="#cb30-95" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-96"><a href="#cb30-96" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-97"><a href="#cb30-97" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-98"><a href="#cb30-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-99"><a href="#cb30-99" aria-hidden="true" tabindex="-1"></a>jmb110 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s10,</span>
<span id="cb30-100"><a href="#cb30-100" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-101"><a href="#cb30-101" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-102"><a href="#cb30-102" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-103"><a href="#cb30-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-104"><a href="#cb30-104" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb110)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-105"><a href="#cb30-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-106"><a href="#cb30-106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-107"><a href="#cb30-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-108"><a href="#cb30-108" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dropping `health` variable</span></span>
<span id="cb30-109"><a href="#cb30-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-112"><a href="#cb30-112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-113"><a href="#cb30-113" aria-hidden="true" tabindex="-1"></a><span class="do">## surv11 is the full model with all the variables</span></span>
<span id="cb30-114"><a href="#cb30-114" aria-hidden="true" tabindex="-1"></a>s11 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-115"><a href="#cb30-115" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> alcohol <span class="sc">+</span></span>
<span id="cb30-116"><a href="#cb30-116" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> bc_pills <span class="sc">+</span> </span>
<span id="cb30-117"><a href="#cb30-117" aria-hidden="true" tabindex="-1"></a>                  children <span class="sc">+</span> edu <span class="sc">+</span> employed <span class="sc">+</span></span>
<span id="cb30-118"><a href="#cb30-118" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-119"><a href="#cb30-119" aria-hidden="true" tabindex="-1"></a>                  married <span class="sc">+</span> </span>
<span id="cb30-120"><a href="#cb30-120" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-121"><a href="#cb30-121" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-122"><a href="#cb30-122" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-123"><a href="#cb30-123" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-124"><a href="#cb30-124" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-125"><a href="#cb30-125" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-126"><a href="#cb30-126" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-127"><a href="#cb30-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-128"><a href="#cb30-128" aria-hidden="true" tabindex="-1"></a>jmb111 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s11,</span>
<span id="cb30-129"><a href="#cb30-129" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-130"><a href="#cb30-130" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-131"><a href="#cb30-131" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-132"><a href="#cb30-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-133"><a href="#cb30-133" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb111)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-134"><a href="#cb30-134" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-135"><a href="#cb30-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-138"><a href="#cb30-138" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-139"><a href="#cb30-139" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb110, jmb111)</span>
<span id="cb30-140"><a href="#cb30-140" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-141"><a href="#cb30-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-142"><a href="#cb30-142" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dropping `alcohol` variable</span></span>
<span id="cb30-143"><a href="#cb30-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-146"><a href="#cb30-146" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-147"><a href="#cb30-147" aria-hidden="true" tabindex="-1"></a>s12 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-148"><a href="#cb30-148" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> <span class="co"># alcohol +</span></span>
<span id="cb30-149"><a href="#cb30-149" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> </span>
<span id="cb30-150"><a href="#cb30-150" aria-hidden="true" tabindex="-1"></a>                  bc_pills <span class="sc">+</span> </span>
<span id="cb30-151"><a href="#cb30-151" aria-hidden="true" tabindex="-1"></a>                  children <span class="sc">+</span> </span>
<span id="cb30-152"><a href="#cb30-152" aria-hidden="true" tabindex="-1"></a>                  edu <span class="sc">+</span></span>
<span id="cb30-153"><a href="#cb30-153" aria-hidden="true" tabindex="-1"></a>                  employed <span class="sc">+</span></span>
<span id="cb30-154"><a href="#cb30-154" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-155"><a href="#cb30-155" aria-hidden="true" tabindex="-1"></a>                  married <span class="sc">+</span> </span>
<span id="cb30-156"><a href="#cb30-156" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-157"><a href="#cb30-157" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-158"><a href="#cb30-158" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-159"><a href="#cb30-159" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-160"><a href="#cb30-160" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-161"><a href="#cb30-161" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-162"><a href="#cb30-162" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-163"><a href="#cb30-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-164"><a href="#cb30-164" aria-hidden="true" tabindex="-1"></a>jmb112 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s12,</span>
<span id="cb30-165"><a href="#cb30-165" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-166"><a href="#cb30-166" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-167"><a href="#cb30-167" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-168"><a href="#cb30-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-169"><a href="#cb30-169" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb112)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-170"><a href="#cb30-170" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-171"><a href="#cb30-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-174"><a href="#cb30-174" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-175"><a href="#cb30-175" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb111, jmb112)</span>
<span id="cb30-176"><a href="#cb30-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-177"><a href="#cb30-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-178"><a href="#cb30-178" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dropping `bc_pills` variable</span></span>
<span id="cb30-179"><a href="#cb30-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-182"><a href="#cb30-182" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-183"><a href="#cb30-183" aria-hidden="true" tabindex="-1"></a>s13 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-184"><a href="#cb30-184" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> <span class="co"># alcohol +</span></span>
<span id="cb30-185"><a href="#cb30-185" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> </span>
<span id="cb30-186"><a href="#cb30-186" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># bc_pills + </span></span>
<span id="cb30-187"><a href="#cb30-187" aria-hidden="true" tabindex="-1"></a>                  children <span class="sc">+</span> </span>
<span id="cb30-188"><a href="#cb30-188" aria-hidden="true" tabindex="-1"></a>                  edu <span class="sc">+</span> </span>
<span id="cb30-189"><a href="#cb30-189" aria-hidden="true" tabindex="-1"></a>                  employed <span class="sc">+</span></span>
<span id="cb30-190"><a href="#cb30-190" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-191"><a href="#cb30-191" aria-hidden="true" tabindex="-1"></a>                  married <span class="sc">+</span> </span>
<span id="cb30-192"><a href="#cb30-192" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-193"><a href="#cb30-193" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-194"><a href="#cb30-194" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-195"><a href="#cb30-195" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-196"><a href="#cb30-196" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-197"><a href="#cb30-197" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-198"><a href="#cb30-198" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-199"><a href="#cb30-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-200"><a href="#cb30-200" aria-hidden="true" tabindex="-1"></a>jmb113 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s13,</span>
<span id="cb30-201"><a href="#cb30-201" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-202"><a href="#cb30-202" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-203"><a href="#cb30-203" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-204"><a href="#cb30-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-205"><a href="#cb30-205" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb113)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-206"><a href="#cb30-206" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-207"><a href="#cb30-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-210"><a href="#cb30-210" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-211"><a href="#cb30-211" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb113, jmb112)</span>
<span id="cb30-212"><a href="#cb30-212" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-213"><a href="#cb30-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-214"><a href="#cb30-214" aria-hidden="true" tabindex="-1"></a><span class="fu">### **Dropping `education` variable**</span></span>
<span id="cb30-215"><a href="#cb30-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-218"><a href="#cb30-218" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-219"><a href="#cb30-219" aria-hidden="true" tabindex="-1"></a>s14 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-220"><a href="#cb30-220" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> <span class="co"># alcohol +</span></span>
<span id="cb30-221"><a href="#cb30-221" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> </span>
<span id="cb30-222"><a href="#cb30-222" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># bc_pills + </span></span>
<span id="cb30-223"><a href="#cb30-223" aria-hidden="true" tabindex="-1"></a>                  children <span class="sc">+</span> </span>
<span id="cb30-224"><a href="#cb30-224" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># edu + </span></span>
<span id="cb30-225"><a href="#cb30-225" aria-hidden="true" tabindex="-1"></a>                  employed <span class="sc">+</span></span>
<span id="cb30-226"><a href="#cb30-226" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-227"><a href="#cb30-227" aria-hidden="true" tabindex="-1"></a>                  married <span class="sc">+</span> </span>
<span id="cb30-228"><a href="#cb30-228" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-229"><a href="#cb30-229" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-230"><a href="#cb30-230" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-231"><a href="#cb30-231" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-232"><a href="#cb30-232" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-233"><a href="#cb30-233" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-234"><a href="#cb30-234" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-235"><a href="#cb30-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-236"><a href="#cb30-236" aria-hidden="true" tabindex="-1"></a>jmb114 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s14,</span>
<span id="cb30-237"><a href="#cb30-237" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-238"><a href="#cb30-238" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-239"><a href="#cb30-239" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-240"><a href="#cb30-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-241"><a href="#cb30-241" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb114)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-242"><a href="#cb30-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-243"><a href="#cb30-243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-244"><a href="#cb30-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-247"><a href="#cb30-247" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-248"><a href="#cb30-248" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb113, jmb114)</span>
<span id="cb30-249"><a href="#cb30-249" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-250"><a href="#cb30-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-251"><a href="#cb30-251" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dropping `employed` variable</span></span>
<span id="cb30-252"><a href="#cb30-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-255"><a href="#cb30-255" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-256"><a href="#cb30-256" aria-hidden="true" tabindex="-1"></a>s15 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-257"><a href="#cb30-257" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> <span class="co"># alcohol +</span></span>
<span id="cb30-258"><a href="#cb30-258" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> </span>
<span id="cb30-259"><a href="#cb30-259" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># bc_pills + </span></span>
<span id="cb30-260"><a href="#cb30-260" aria-hidden="true" tabindex="-1"></a>                  children <span class="sc">+</span> </span>
<span id="cb30-261"><a href="#cb30-261" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># edu + </span></span>
<span id="cb30-262"><a href="#cb30-262" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># employed +</span></span>
<span id="cb30-263"><a href="#cb30-263" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-264"><a href="#cb30-264" aria-hidden="true" tabindex="-1"></a>                  married <span class="sc">+</span> </span>
<span id="cb30-265"><a href="#cb30-265" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-266"><a href="#cb30-266" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-267"><a href="#cb30-267" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-268"><a href="#cb30-268" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-269"><a href="#cb30-269" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-270"><a href="#cb30-270" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-271"><a href="#cb30-271" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-272"><a href="#cb30-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-273"><a href="#cb30-273" aria-hidden="true" tabindex="-1"></a>jmb115 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s15,</span>
<span id="cb30-274"><a href="#cb30-274" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-275"><a href="#cb30-275" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-276"><a href="#cb30-276" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-277"><a href="#cb30-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-278"><a href="#cb30-278" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb115)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-279"><a href="#cb30-279" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-280"><a href="#cb30-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-283"><a href="#cb30-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-284"><a href="#cb30-284" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb115, jmb114)</span>
<span id="cb30-285"><a href="#cb30-285" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-286"><a href="#cb30-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-287"><a href="#cb30-287" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dropping `children` variable</span></span>
<span id="cb30-288"><a href="#cb30-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-291"><a href="#cb30-291" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-292"><a href="#cb30-292" aria-hidden="true" tabindex="-1"></a>s16 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-293"><a href="#cb30-293" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> <span class="co"># alcohol +</span></span>
<span id="cb30-294"><a href="#cb30-294" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> </span>
<span id="cb30-295"><a href="#cb30-295" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># bc_pills + </span></span>
<span id="cb30-296"><a href="#cb30-296" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># children + </span></span>
<span id="cb30-297"><a href="#cb30-297" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># edu + </span></span>
<span id="cb30-298"><a href="#cb30-298" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># employed +</span></span>
<span id="cb30-299"><a href="#cb30-299" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-300"><a href="#cb30-300" aria-hidden="true" tabindex="-1"></a>                  married <span class="sc">+</span> </span>
<span id="cb30-301"><a href="#cb30-301" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-302"><a href="#cb30-302" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-303"><a href="#cb30-303" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-304"><a href="#cb30-304" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-305"><a href="#cb30-305" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-306"><a href="#cb30-306" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-307"><a href="#cb30-307" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-308"><a href="#cb30-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-309"><a href="#cb30-309" aria-hidden="true" tabindex="-1"></a>jmb116 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s16,</span>
<span id="cb30-310"><a href="#cb30-310" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-311"><a href="#cb30-311" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-312"><a href="#cb30-312" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-313"><a href="#cb30-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-314"><a href="#cb30-314" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb116)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-315"><a href="#cb30-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-316"><a href="#cb30-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-319"><a href="#cb30-319" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-320"><a href="#cb30-320" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb115, jmb116)</span>
<span id="cb30-321"><a href="#cb30-321" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-322"><a href="#cb30-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-323"><a href="#cb30-323" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dropping `married` variable</span></span>
<span id="cb30-324"><a href="#cb30-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-327"><a href="#cb30-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-328"><a href="#cb30-328" aria-hidden="true" tabindex="-1"></a>s17 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-329"><a href="#cb30-329" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> <span class="co"># alcohol +</span></span>
<span id="cb30-330"><a href="#cb30-330" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> </span>
<span id="cb30-331"><a href="#cb30-331" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># bc_pills + </span></span>
<span id="cb30-332"><a href="#cb30-332" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># children + </span></span>
<span id="cb30-333"><a href="#cb30-333" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># edu + </span></span>
<span id="cb30-334"><a href="#cb30-334" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># employed +</span></span>
<span id="cb30-335"><a href="#cb30-335" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-336"><a href="#cb30-336" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># married + </span></span>
<span id="cb30-337"><a href="#cb30-337" aria-hidden="true" tabindex="-1"></a>                  phys_act <span class="sc">+</span> </span>
<span id="cb30-338"><a href="#cb30-338" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-339"><a href="#cb30-339" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-340"><a href="#cb30-340" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-341"><a href="#cb30-341" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-342"><a href="#cb30-342" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-343"><a href="#cb30-343" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-344"><a href="#cb30-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-345"><a href="#cb30-345" aria-hidden="true" tabindex="-1"></a>jmb117 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s17,</span>
<span id="cb30-346"><a href="#cb30-346" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-347"><a href="#cb30-347" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-348"><a href="#cb30-348" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-349"><a href="#cb30-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-350"><a href="#cb30-350" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb117)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-351"><a href="#cb30-351" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-352"><a href="#cb30-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-355"><a href="#cb30-355" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-356"><a href="#cb30-356" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb116, jmb117)</span>
<span id="cb30-357"><a href="#cb30-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-358"><a href="#cb30-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-359"><a href="#cb30-359" aria-hidden="true" tabindex="-1"></a><span class="fu">### Dropping `phys_act` variable</span></span>
<span id="cb30-360"><a href="#cb30-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-363"><a href="#cb30-363" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-364"><a href="#cb30-364" aria-hidden="true" tabindex="-1"></a>s18 <span class="ot">&lt;-</span> <span class="fu">coxph</span>(<span class="fu">Surv</span>(etime, event) <span class="sc">~</span> </span>
<span id="cb30-365"><a href="#cb30-365" aria-hidden="true" tabindex="-1"></a>                  <span class="dv">0</span> <span class="sc">+</span> <span class="co"># alcohol +</span></span>
<span id="cb30-366"><a href="#cb30-366" aria-hidden="true" tabindex="-1"></a>                  bmi <span class="sc">+</span> </span>
<span id="cb30-367"><a href="#cb30-367" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># bc_pills + </span></span>
<span id="cb30-368"><a href="#cb30-368" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># children + </span></span>
<span id="cb30-369"><a href="#cb30-369" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># edu + </span></span>
<span id="cb30-370"><a href="#cb30-370" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># employed +</span></span>
<span id="cb30-371"><a href="#cb30-371" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># health +</span></span>
<span id="cb30-372"><a href="#cb30-372" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># married + </span></span>
<span id="cb30-373"><a href="#cb30-373" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># phys_act + </span></span>
<span id="cb30-374"><a href="#cb30-374" aria-hidden="true" tabindex="-1"></a>                  ethnic_black <span class="sc">+</span> ethnic_chine <span class="sc">+</span> ethnic_hispa <span class="sc">+</span> ethnic_japan <span class="sc">+</span> </span>
<span id="cb30-375"><a href="#cb30-375" aria-hidden="true" tabindex="-1"></a>                  site_c <span class="sc">+</span> site_m <span class="sc">+</span> site_nj <span class="sc">+</span> site_p <span class="sc">+</span> site_ucd <span class="sc">+</span> site_ucla <span class="sc">+</span> </span>
<span id="cb30-376"><a href="#cb30-376" aria-hidden="true" tabindex="-1"></a>                  smoke_current_smoker <span class="sc">+</span> smoke_past_only,</span>
<span id="cb30-377"><a href="#cb30-377" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> swan_amh13, </span>
<span id="cb30-378"><a href="#cb30-378" aria-hidden="true" tabindex="-1"></a>                <span class="at">x =</span> <span class="cn">TRUE</span>,</span>
<span id="cb30-379"><a href="#cb30-379" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-380"><a href="#cb30-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-381"><a href="#cb30-381" aria-hidden="true" tabindex="-1"></a>jmb118 <span class="ot">&lt;-</span> JMbayes2<span class="sc">::</span><span class="fu">jm</span>(<span class="at">Surv_object =</span> s18,</span>
<span id="cb30-382"><a href="#cb30-382" aria-hidden="true" tabindex="-1"></a>                               <span class="at">Mixed_objects =</span> lme1, </span>
<span id="cb30-383"><a href="#cb30-383" aria-hidden="true" tabindex="-1"></a>                               <span class="at">time_var =</span> <span class="st">"time"</span>,</span>
<span id="cb30-384"><a href="#cb30-384" aria-hidden="true" tabindex="-1"></a>                               <span class="at">control =</span> jmcontrol) </span>
<span id="cb30-385"><a href="#cb30-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-386"><a href="#cb30-386" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jmb118)<span class="sc">$</span>Survival <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(P)) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">digits =</span> <span class="dv">4</span>)</span>
<span id="cb30-387"><a href="#cb30-387" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-388"><a href="#cb30-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-391"><a href="#cb30-391" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-392"><a href="#cb30-392" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb118, jmb117)</span>
<span id="cb30-393"><a href="#cb30-393" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-394"><a href="#cb30-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-395"><a href="#cb30-395" aria-hidden="true" tabindex="-1"></a><span class="fu">## Comparison for models</span></span>
<span id="cb30-396"><a href="#cb30-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-399"><a href="#cb30-399" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb30-400"><a href="#cb30-400" aria-hidden="true" tabindex="-1"></a><span class="fu">compare_jm</span>(jmb111, jmb112, jmb113, jmb114, jmb115, jmb116, jmb117, jmb118)</span>
<span id="cb30-401"><a href="#cb30-401" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-402"><a href="#cb30-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-403"><a href="#cb30-403" aria-hidden="true" tabindex="-1"></a><span class="fu">## The final model</span></span>
<span id="cb30-404"><a href="#cb30-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-405"><a href="#cb30-405" aria-hidden="true" tabindex="-1"></a>For Chapter10, we have the model with <span class="in">`bc_pills`</span> dropped from the new model.</span>
<span id="cb30-406"><a href="#cb30-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-407"><a href="#cb30-407" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb30-408"><a href="#cb30-408" aria-hidden="true" tabindex="-1"></a>\begin{split}</span>
<span id="cb30-409"><a href="#cb30-409" aria-hidden="true" tabindex="-1"></a>  jmb117: &amp; <span class="sc">\\</span> </span>
<span id="cb30-410"><a href="#cb30-410" aria-hidden="true" tabindex="-1"></a>  lme1: \ \ \  &amp; \pmb m(time) = (fixed = lamh \sim time, \ random = \sim time| id) <span class="sc">\\</span></span>
<span id="cb30-411"><a href="#cb30-411" aria-hidden="true" tabindex="-1"></a>  surv16: \ \ \ &amp; Surv(etime, event) \sim phys_act + (married) + bmi + factor(site) + <span class="sc">\\</span></span>
<span id="cb30-412"><a href="#cb30-412" aria-hidden="true" tabindex="-1"></a>  &amp; factor(ethnic) + factor(smoke) + \pmb m(time)</span>
<span id="cb30-413"><a href="#cb30-413" aria-hidden="true" tabindex="-1"></a>\end{split}</span>
<span id="cb30-414"><a href="#cb30-414" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb30-415"><a href="#cb30-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-416"><a href="#cb30-416" aria-hidden="true" tabindex="-1"></a><span class="in">```         </span></span>
<span id="cb30-417"><a href="#cb30-417" aria-hidden="true" tabindex="-1"></a><span class="in">s17 &lt;- coxph(Surv(etime, event) ~ </span></span>
<span id="cb30-418"><a href="#cb30-418" aria-hidden="true" tabindex="-1"></a><span class="in">                  0 + # alcohol +</span></span>
<span id="cb30-419"><a href="#cb30-419" aria-hidden="true" tabindex="-1"></a><span class="in">                  bmi + </span></span>
<span id="cb30-420"><a href="#cb30-420" aria-hidden="true" tabindex="-1"></a><span class="in">                  # bc_pills + </span></span>
<span id="cb30-421"><a href="#cb30-421" aria-hidden="true" tabindex="-1"></a><span class="in">                  # children + </span></span>
<span id="cb30-422"><a href="#cb30-422" aria-hidden="true" tabindex="-1"></a><span class="in">                  # edu + </span></span>
<span id="cb30-423"><a href="#cb30-423" aria-hidden="true" tabindex="-1"></a><span class="in">                  # employed +</span></span>
<span id="cb30-424"><a href="#cb30-424" aria-hidden="true" tabindex="-1"></a><span class="in">                  # health +</span></span>
<span id="cb30-425"><a href="#cb30-425" aria-hidden="true" tabindex="-1"></a><span class="in">                  # married + </span></span>
<span id="cb30-426"><a href="#cb30-426" aria-hidden="true" tabindex="-1"></a><span class="in">                  phys_act + </span></span>
<span id="cb30-427"><a href="#cb30-427" aria-hidden="true" tabindex="-1"></a><span class="in">                  ethnic_black + ethnic_chine + ethnic_hispa + ethnic_japan + </span></span>
<span id="cb30-428"><a href="#cb30-428" aria-hidden="true" tabindex="-1"></a><span class="in">                  site_c + site_m + site_nj + site_p + site_ucd + site_ucla + </span></span>
<span id="cb30-429"><a href="#cb30-429" aria-hidden="true" tabindex="-1"></a><span class="in">                  smoke_current_smoker + smoke_past_only,</span></span>
<span id="cb30-430"><a href="#cb30-430" aria-hidden="true" tabindex="-1"></a><span class="in">                data = swan_amh13, </span></span>
<span id="cb30-431"><a href="#cb30-431" aria-hidden="true" tabindex="-1"></a><span class="in">                x = TRUE,</span></span>
<span id="cb30-432"><a href="#cb30-432" aria-hidden="true" tabindex="-1"></a><span class="in">                model = TRUE)</span></span>
<span id="cb30-433"><a href="#cb30-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-434"><a href="#cb30-434" aria-hidden="true" tabindex="-1"></a><span class="in">jmb117 &lt;- JMbayes2::jm(Surv_object = s17,</span></span>
<span id="cb30-435"><a href="#cb30-435" aria-hidden="true" tabindex="-1"></a><span class="in">                               Mixed_objects = lme1, </span></span>
<span id="cb30-436"><a href="#cb30-436" aria-hidden="true" tabindex="-1"></a><span class="in">                               time_var = "time",</span></span>
<span id="cb30-437"><a href="#cb30-437" aria-hidden="true" tabindex="-1"></a><span class="in">                               control = jmcontrol) </span></span>
<span id="cb30-438"><a href="#cb30-438" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb30-439"><a href="#cb30-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-440"><a href="#cb30-440" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="va">[x]</span> <span class="in">`r praise::praise()`</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>